充分使用接口和继承，用存根去除这些依赖项。
注入存根有很多种方法，关键点是找到合适的间接层，或者创建这个间接层，然后把它用作接缝，在运行代码中注入存根。

被测试的工作单元应该尽可能的小？
No，如果你创建的工作单元更大，而且他的最终结果对这个接口的用户可见度高，那么我相信你的测试会更容易维护。
如果你试图把工作单元缩到最小，最后会不得不伪造一堆东西，这些东西并不是使用公共API的真实最终结果，而是生成结果过程中的一些中间状态。这属于过度指定。